(this["webpackJsonpinforce-product-list"]=this["webpackJsonpinforce-product-list"]||[]).push([[0],{117:function(e,t,n){e.exports={Container:"Comments_Container__al520",Comment:"Comments_Comment__1DD8F"}},128:function(e,t,n){e.exports={Container:"CardItem_Container__141P4",Details:"CardItem_Details__3d6lk",Desc:"CardItem_Desc__11v3S"}},136:function(e,t,n){e.exports={Container:"SortBy_Container__3ZLg-",Select:"SortBy_Select__1IxJS"}},152:function(e,t,n){e.exports={Header:"Header_Header__32fXJ"}},156:function(e,t,n){e.exports={Container:"Spinner_Container__rzVqv"}},159:function(e,t,n){e.exports={Container:"CardList_Container__r3JsM"}},175:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),i=n(26),o=n.n(i),s=(n(175),n(70)),u=n(25),l=n(76),d=n(262),j=n(48),b=n(67),m=n(168),O=(n(132),n(88)),p=n(45);!function(e){e.LOADING="LOADING",e.ERROR="ERROR",e.SORT_BY="SORT_BY",e.GET_PRODUCTS="GET_PRODUCTS",e.GET_PRODUCT="GET_PRODUCT",e.ADD_PRODUCT="ADD_PRODUCT",e.UPDATE_PRODUCT="UPDATE_PRODUCT",e.REMOVE_PRODUCT="REMOVE_PRODUCT"}(c||(c={}));var h,x=function(e){return{type:c.LOADING,payload:e}},f=function(e){return{type:c.ERROR,payload:e}},g=n(136),v=n.n(g),C=n(6);!function(e){e.AZ_ASC="?_sort=name&_order=asc",e.AZ_DESC="?_sort=name&_order=desc",e.COUNT_ASC="?_sort=count&_order=asc",e.COUNT_DESC="?_sort=count&_order=desc"}(h||(h={}));var _=O.a.Option,D=Object(p.b)(null,(function(e){return{sortBy:function(t){return e((n=t,{type:c.SORT_BY,payload:n}));var n}}}))((function(e){var t=e.sortBy;return Object(C.jsxs)("div",{className:v.a.Container,children:[Object(C.jsx)("span",{children:"sort by:"}),Object(C.jsxs)(O.a,{className:v.a.Select,onChange:function(e){t(e)},defaultValue:h.AZ_ASC,showSearch:!1,children:[Object(C.jsx)(_,{value:h.AZ_ASC,children:"a-z"}),Object(C.jsx)(_,{value:h.AZ_DESC,children:"z-a"}),Object(C.jsx)(_,{value:h.COUNT_ASC,children:"count asc"}),Object(C.jsx)(_,{value:h.COUNT_DESC,children:"count desc"})]})]})})),y=n(152),T=n.n(y),S=function(e){var t=e.isListView,n=e.title,c=e.subtitle,r=e.toggleModal,a=Object(u.f)();return Object(C.jsx)(d.a,{backIcon:Object(C.jsx)(b.a,{}),className:T.a.Header,title:n,subTitle:c,extra:t?[Object(C.jsx)(D,{}),Object(C.jsx)(j.a,{icon:Object(C.jsx)(m.a,{}),onClick:function(){return r(!0)}},"1")]:Object(C.jsx)(j.a,{icon:Object(C.jsx)(b.a,{}),onClick:function(){return a.goBack()}},"1")})},I=n(266),R=n(269),P=n(263),E=n(89),U=n(79),A=n(271),w=n(272),N=n(24),M=n(264),L=n(268),k=n(267),B={labelCol:{span:8},wrapperCol:{span:16}},q={required:"${label} is required!",types:{number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},Y=function(e){var t=e.initValues,n=e.toggleModal,c=e.updateProduct;return Object(C.jsxs)(M.a,Object(N.a)(Object(N.a)({},B),{},{name:"nest-messages",onFinish:function(e){Object.keys(e).forEach((function(n){t[n]=e[n]})),n(!1),c(t)},initialValues:t,validateMessages:q,children:[Object(C.jsx)(M.a.Item,{name:"imageUrl",label:"Image URL",rules:[{required:!0}],children:Object(C.jsx)(L.a,{})}),Object(C.jsx)(M.a.Item,{name:"name",label:"Name",rules:[{required:!0}],children:Object(C.jsx)(L.a,{})}),Object(C.jsx)(M.a.Item,{name:"weight",label:"Weight",children:Object(C.jsx)(L.a,{})}),Object(C.jsxs)(M.a.Item,{label:"Size",style:{marginBottom:"0"},children:[Object(C.jsx)(M.a.Item,{name:["size","width"],style:{display:"inline-block",width:"25%",marginRight:"24px"},rules:[{type:"number",min:0,max:1e3}],children:Object(C.jsx)(k.a,{placeholder:"width"})}),Object(C.jsx)(M.a.Item,{name:["size","height"],style:{display:"inline-block",width:"25%"},rules:[{type:"number",min:0,max:1e3}],children:Object(C.jsx)(k.a,{placeholder:"height"})})]}),Object(C.jsx)(M.a.Item,{name:"count",label:"Count",rules:[{type:"number",min:0,max:99}],style:{marginBottom:"32px"},children:Object(C.jsx)(k.a,{})}),Object(C.jsx)(M.a.Item,{wrapperCol:Object(N.a)(Object(N.a)({},B.wrapperCol),{},{offset:8}),children:Object(C.jsx)(j.a,{type:"primary",htmlType:"submit",children:"Add"})})]}))},z=n(80),V=n.n(z),H=n(115),G=n(155),F=function(){var e=Object(H.a)(V.a.mark((function e(t){var n,c,r=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},n=Object(G.merge)(n,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n.body)}),e.next=4,fetch(t,n);case 4:if(!((c=e.sent).headers.get("Content-Type")||"").includes("application/json")){e.next=19;break}return e.prev=6,e.next=9,c.json();case 9:return e.t0=e.sent,e.t1=c.status,e.abrupt("return",{body:e.t0,status:e.t1});case 14:throw e.prev=14,e.t2=e.catch(6),new Error("Status: ".concat(c.status,", Message: Bad JSON"));case 17:e.next=20;break;case 19:throw new Error("Status: ".concat(c.status,", Message: Incorrect MIME type"));case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return function(){var r=Object(H.a)(V.a.mark((function r(a){var i;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(x(!0)),r.prev=1,r.next=4,F(t,n);case 4:i=r.sent,a({type:e,payload:c||i.body}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),a(f(r.t0));case 11:return r.prev=11,a(x(!1)),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})));return function(e){return r.apply(this,arguments)}}()},Z="https://my-json-server.typicode.com/boobzzz/json-server-db/products",$=P.a.Meta,W=R.a.confirm,X=Object(p.b)(null,(function(e){return{updateItem:function(t,n,c){return e(J(t,n,c))},removeItem:function(t,n,c,r){return e(J(t,n,c,r))}}}))((function(e){var t=e.item,n=e.updateItem,a=e.removeItem,i=Object(r.useState)(!1),o=Object(l.a)(i,2),s=o[0],d=o[1],j=Object(u.f)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(P.a,{cover:Object(C.jsx)("img",{alt:"example",src:t.imageUrl}),actions:[Object(C.jsx)(U.a,{onClick:function(){return e=t.id,n=t.name,void j.push("/products/".concat(e,"/").concat(n));var e,n}},"ellipsis"),Object(C.jsx)(A.a,{onClick:function(){return d(!0)}},"edit"),Object(C.jsx)(w.a,{onClick:function(){W({title:"Are you sure you want to delete this item?",icon:Object(C.jsx)(E.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){a(c.REMOVE_PRODUCT,"".concat(Z,"/").concat(t.id),{method:"DELETE"},t.id)},onCancel:function(){}})}},"delete")],hoverable:!0,children:Object(C.jsx)($,{title:t.name})}),Object(C.jsx)(R.a,{title:"Edit Product",visible:s,onCancel:function(){d(!1)},footer:null,children:Object(C.jsx)(Y,{initValues:t,toggleModal:d,updateProduct:function(e){var r={method:"PUT",body:e};n(c.UPDATE_PRODUCT,"".concat(Z,"/").concat(t.id),r)}})})]})})),K=n(157),Q=n(156),ee=n.n(Q),te=function(){return Object(C.jsx)("div",{className:ee.a.Container,children:Object(C.jsx)(K.a,{size:"large"})})},ne=function(e){return e.isLoading},ce=function(e){return e.error},re=function(e){return e.products},ae=function(e){return e.product},ie=function(e){return e.sortBy},oe=n(159),se=n.n(oe),ue=Object(p.b)((function(e){return{isLoading:ne(e),error:ce(e),products:re(e),sortBy:ie(e)}}),(function(e){return{getAllProducts:function(t,n){return e(J(t,n))},addNewItem:function(t,n,c){return e(J(t,n,c))}}}))((function(e){var t=e.isLoading,n=e.error,a=e.products,i=e.sortBy,o=e.isModalVisible,s=e.getAllProducts,u=e.toggleModal,l=e.addNewItem;return Object(r.useEffect)((function(){s(c.GET_PRODUCTS,"".concat(Z).concat(i))}),[s,i]),t?Object(C.jsx)(te,{}):n?Object(C.jsx)("div",{children:n}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:se.a.Container,children:Object(C.jsx)(I.b,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:4},dataSource:a,renderItem:function(e){return Object(C.jsx)(I.b.Item,{children:Object(C.jsx)(X,{item:e})},e.id)}})}),Object(C.jsx)(R.a,{title:"New Product",visible:o,onCancel:function(){u(!1)},footer:null,children:Object(C.jsx)(Y,{initValues:{id:"",imageUrl:"",name:"",count:0},toggleModal:u,updateProduct:function(e){var t={method:"POST",body:e};l(c.ADD_PRODUCT,Z,t)}})})]})})),le=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(S,{title:"Products",subtitle:"List of available products",toggleModal:c,isListView:!0}),Object(C.jsx)(ue,{isModalVisible:n,toggleModal:c})]})},de=n(270),je=n(265),be=n(87),me=n.n(be),Oe=n(261),pe=n(163),he=n(77),xe=n(117),fe=n.n(xe),ge=function(e){var t=e.comment,n=e.removeComment,c=t.id,r=t.description,a=t.date;return Object(C.jsx)(Oe.a,{actions:[Object(C.jsx)("span",{onClick:function(){return n(c)},children:"Delete"},"del-comment")],author:Object(C.jsx)("a",{children:"Han Solo"}),avatar:Object(C.jsx)(pe.a,{src:"https://joeschmoe.io/api/v1/random",alt:"Han Solo"}),content:r,datetime:Object(C.jsx)(he.a,{title:me()().format("HH:mm DD.MM.YYYY"),children:Object(C.jsx)("span",{children:me()(a,"HH:mm DD.MM.YYYY").fromNow()})}),className:fe.a.Comment})},ve=L.a.TextArea,Ce=function(e){var t=e.onChange,n=e.onSubmit,c=e.submitting,r=e.value;return Object(C.jsx)(Oe.a,{avatar:Object(C.jsx)(pe.a,{src:"https://joeschmoe.io/api/v1/random",alt:"Han Solo"}),content:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(M.a.Item,{children:Object(C.jsx)(ve,{rows:4,onChange:function(e){return t(e)},value:r})}),Object(C.jsx)(M.a.Item,{children:Object(C.jsx)(j.a,{htmlType:"submit",loading:c,onClick:n,type:"primary",children:"Add Comment"})})]})})},_e=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},De=Object(p.b)((function(e){return{isLoading:ne(e)}}),(function(e){return{updateItem:function(t,n,c){return e(J(t,n,c))}}}))((function(e){var t=e.isLoading,n=e.item,a=e.updateItem,i=Object(r.useState)(""),o=Object(l.a)(i,2),s=o[0],u=o[1],d=n.id,j=n.comments,b=function(e){var t={method:"PUT",body:e};a(c.UPDATE_PRODUCT,"".concat(Z,"/").concat(d),t)},m=function(e){var t=JSON.parse(JSON.stringify(n)),c=t.comments.filter((function(t){return t.id!==e}));t.comments=c,b(t)};return Object(C.jsxs)("div",{className:fe.a.Container,children:[Object(C.jsx)("h3",{children:"Comments:"}),Object(C.jsx)("ul",{children:null===j||void 0===j?void 0:j.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsx)(ge,{comment:e,removeComment:m})},e.id)}))}),Object(C.jsx)(Ce,{onChange:function(e){u(e.target.value)},onSubmit:function(){var e=JSON.parse(JSON.stringify(n)),t={id:_e(),productId:d,description:s,date:me()().format("HH:mm DD.MM.YYYY")};e.comments||(e.comments=[]),e.comments.push(t),b(e)},submitting:t,value:s})]})})),ye=n(128),Te=n.n(ye),Se=Object(p.b)((function(e){return{isLoading:ne(e),error:ce(e),product:ae(e)}}),(function(e){return{getItem:function(t,n){return e(J(t,n))}}}))((function(e){var t,n,a=Object(u.g)().id,i=e.isLoading,o=e.error,s=e.product,l=e.getItem;return Object(r.useEffect)((function(){l(c.GET_PRODUCT,"".concat(Z,"?id=").concat(a))}),[l,a]),i?Object(C.jsx)(te,{}):o?Object(C.jsx)("div",{children:o}):Object(C.jsxs)("div",{className:Te.a.Container,children:[Object(C.jsxs)("div",{className:Te.a.Details,children:[Object(C.jsxs)("div",{className:Te.a.Desc,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:"Details"}),Object(C.jsx)("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dolore, velit omnis soluta veniam placeat consequuntur iure harum! Accusantium, nam quos dignissimos sapiente assumenda fugit quo omnis cumque, a officia eveniet? Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dolore, velit omnis soluta veniam placeat consequuntur iure harum! Accusantium, nam quos dignissimos sapiente assumenda fugit quo omnis cumque, a officia eveniet? Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dolore, velit omnis soluta veniam placeat consequuntur iure harum! Accusantium, nam quos dignissimos sapiente assumenda fugit quo omnis cumque, a officia eveniet?"})]}),Object(C.jsxs)(de.b,{layout:"vertical",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},size:"small",children:[Object(C.jsx)(de.b.Item,{label:"ID",children:s.id}),Object(C.jsx)(de.b.Item,{label:"Name",children:s.name}),Object(C.jsx)(de.b.Item,{label:"Amount",children:s.count}),Object(C.jsxs)(de.b.Item,{label:"Size",children:["width: ",null===(t=s.size)||void 0===t?void 0:t.width,Object(C.jsx)("br",{}),"height: ",null===(n=s.size)||void 0===n?void 0:n.height]}),Object(C.jsx)(de.b.Item,{label:"Weight",children:s.weight})]})]}),Object(C.jsx)(je.a,{src:s.imageUrl,width:325,height:425})]}),Object(C.jsx)(De,{item:s})]})})),Ie=function(){var e=Object(u.g)().name;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(S,{title:"Product info:",subtitle:e}),Object(C.jsx)(Se,{})]})},Re=function(){return Object(C.jsx)(s.a,{children:Object(C.jsxs)(u.c,{children:[Object(C.jsx)(u.a,{exact:!0,path:"/",children:Object(C.jsx)(le,{})}),Object(C.jsx)(u.a,{path:"/products/:id/:name",children:Object(C.jsx)(Ie,{})})]})})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,273)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},Ee=n(139),Ue=n(160),Ae=n(164),we={isLoading:!1,error:"",sortBy:h.AZ_ASC,products:[],product:{id:"",imageUrl:"",name:"",count:0}},Ne=Object(Ee.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case c.LOADING:return Object(N.a)(Object(N.a)({},e),{},{isLoading:r,error:""});case c.ERROR:return Object(N.a)(Object(N.a)({},e),{},{error:r});case c.SORT_BY:return Object(N.a)(Object(N.a)({},e),{},{sortBy:r});case c.GET_PRODUCTS:return Object(N.a)(Object(N.a)({},e),{},{products:r});case c.GET_PRODUCT:return Object(N.a)(Object(N.a)({},e),{},{product:r[0]});case c.ADD_PRODUCT:return Object(N.a)(Object(N.a)({},e),{},{products:[].concat(Object(Ae.a)(e.products),[r])});case c.UPDATE_PRODUCT:return Object(N.a)(Object(N.a)({},e),{},{products:e.products.map((function(e){return e.id===r.id?e=r:e})),product:r});case c.REMOVE_PRODUCT:return Object(N.a)(Object(N.a)({},e),{},{products:e.products.filter((function(e){return e.id!==r}))});default:return e}}),Object(Ee.a)(Ue.a));o.a.render(Object(C.jsx)(p.a,{store:Ne,children:Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(Re,{})})}),document.getElementById("root")),Pe()}},[[259,1,2]]]);
//# sourceMappingURL=main.7e2cb197.chunk.js.map